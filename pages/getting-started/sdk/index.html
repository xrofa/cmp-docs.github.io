
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/general/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>Browser SDK - Usercentrics CMP Browser</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:""}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <script id="usercentrics-cmp" data-settings-id="iuVJ-_y0f" src="https://app.usercentrics.eu/browser-ui/latest/loader.js" async ></script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#browser-sdk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Usercentrics CMP Browser" class="md-header__button md-logo" aria-label="Usercentrics CMP Browser" data-md-component="logo">
      
  <img src="../../../assets/general/usercentrics-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Usercentrics CMP Browser
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Browser SDK
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link md-tabs__link--active">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ui/" class="md-tabs__link">
        Browser UI
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../sdk/implementation-optional-steps/" class="md-tabs__link">
        Browser SDK
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../gcm/consent-mode/" class="md-tabs__link">
      Google Consent Mode
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../gtm/configuration/" class="md-tabs__link">
        Google Tag Manager
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../features/tcf2/" class="md-tabs__link">
        Features
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Usercentrics CMP Browser" class="md-nav__button md-logo" aria-label="Usercentrics CMP Browser" data-md-component="logo">
      
  <img src="../../../assets/general/usercentrics-logo.svg" alt="logo">

    </a>
    Usercentrics CMP Browser
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../..">Getting Started</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        Browser UI
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Browser SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Browser SDK
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-dependency" class="md-nav__link">
    Installing the dependency
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-non-tcf-initialization" class="md-nav__link">
    Default (non-TCF) initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-deny-update-services-in-the-default-non-tcf-context" class="md-nav__link">
    Accept / deny / update services in the default (non-TCF) context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcf-initialization" class="md-nav__link">
    TCF initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-deny-update-vendors-purposes-special-features-in-the-tcf-context" class="md-nav__link">
    Accept / deny / update vendors, purposes, special features in the TCF context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-language" class="md-nav__link">
    Changing the language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-view" class="md-nav__link">
    Changing the view
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-services-information" class="md-nav__link">
    Getting Services Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-categories-information" class="md-nav__link">
    Getting Categories Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-device-consent-sharing" class="md-nav__link">
    Cross-Device Consent Sharing
  </a>
  
    <nav class="md-nav" aria-label="Cross-Device Consent Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controllerid-is-known-before-init" class="md-nav__link">
    controllerId is known before init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controllerid-is-known-after-init" class="md-nav__link">
    controllerId is known after init
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ie11-compatibility" class="md-nav__link">
    IE11 compatibility
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-tag-support" class="md-nav__link">
    Script tag support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considerations-for-building-your-custom-tcf-v20-ui" class="md-nav__link">
    Considerations for building your custom TCF v2.0 UI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    Technical Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../browser-support/" class="md-nav__link">
        Browser Support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../ui/">Browser UI</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Browser UI" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Browser UI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/implementation-optional-steps/" class="md-nav__link">
        Implementation (Optional Steps)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ui/adjusting-implemented-scripts/" class="md-nav__link">
        Adjusting Implemented Scripts
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../guides/">Guides</a>
          
            <label for="__nav_2_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/guide-example/" class="md-nav__link">
        First Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/guide-example/" class="md-nav__link">
        Second Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/custom-css/" class="md-nav__link">
        Custom CSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Browser UI API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browser UI API" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Browser UI API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/control-the-ui/" class="md-nav__link">
        Control the UI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/custom-functionality/" class="md-nav__link">
        Custom Functionality
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Browser SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browser SDK" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Browser SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sdk/implementation-optional-steps/" class="md-nav__link">
        Implementation (Optional Steps)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sdk/modules/" class="md-nav__link">
        Technical SDK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../gcm/consent-mode/" class="md-nav__link">
        Google Consent Mode
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Google Tag Manager
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Google Tag Manager" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Google Tag Manager
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gtm/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gtm/templates/" class="md-nav__link">
        Templates
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Features" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/tcf2/" class="md-nav__link">
        TCF 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/events/" class="md-nav__link">
        Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/embeddings/" class="md-nav__link">
        Embeddings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/smart-data-protector/" class="md-nav__link">
        Smart Data Protector
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-dependency" class="md-nav__link">
    Installing the dependency
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-non-tcf-initialization" class="md-nav__link">
    Default (non-TCF) initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-deny-update-services-in-the-default-non-tcf-context" class="md-nav__link">
    Accept / deny / update services in the default (non-TCF) context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcf-initialization" class="md-nav__link">
    TCF initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#accept-deny-update-vendors-purposes-special-features-in-the-tcf-context" class="md-nav__link">
    Accept / deny / update vendors, purposes, special features in the TCF context
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-language" class="md-nav__link">
    Changing the language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-the-view" class="md-nav__link">
    Changing the view
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-services-information" class="md-nav__link">
    Getting Services Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-categories-information" class="md-nav__link">
    Getting Categories Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cross-device-consent-sharing" class="md-nav__link">
    Cross-Device Consent Sharing
  </a>
  
    <nav class="md-nav" aria-label="Cross-Device Consent Sharing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controllerid-is-known-before-init" class="md-nav__link">
    controllerId is known before init
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controllerid-is-known-after-init" class="md-nav__link">
    controllerId is known after init
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ie11-compatibility" class="md-nav__link">
    IE11 compatibility
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#script-tag-support" class="md-nav__link">
    Script tag support
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#considerations-for-building-your-custom-tcf-v20-ui" class="md-nav__link">
    Considerations for building your custom TCF v2.0 UI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-documentation" class="md-nav__link">
    Technical Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="browser-sdk">Browser SDK</h1>
<p>With the Usercentrics CMP Browser SDK our aim is to provide a lightweight library which enables you to build your own fully customized Consent Solution while still leveraging the Usercentrics service database and tools.</p>
<p>We also offer collaboration possibilities with Usercentrics Partners who are able to support you in building your own customized solution. Contact our sales team for more information.</p>
<h2 id="installing-the-dependency">Installing the dependency</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>npm install @usercentrics/cmp-browser-sdk --save
</code></pre></div>
<h2 id="default-non-tcf-initialization">Default (non-TCF) initialization</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span><span class="p">,</span> <span class="p">{</span> <span class="nx">UI_LAYER</span><span class="p">,</span> <span class="nx">UI_VARIANT</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">);</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  <span class="c1">// getSettings() returns all Usercentrics settings you need for your custom solution</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>  <span class="c1">// getCategories() returns all categories&#39; and data processing services&#39; information</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>  <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>  <span class="k">if</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">variant</span> <span class="o">===</span> <span class="nx">UI_VARIANT</span><span class="p">.</span><span class="nx">DEFAULT</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    <span class="k">switch</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">initialLayer</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>      <span class="k">case</span> <span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">FIRST_LAYER</span><span class="o">:</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>        <span class="c1">// Show first layer (i.e. privacy banner)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>      <span class="k">case</span> <span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">PRIVACY_BUTTON</span><span class="o">:</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>        <span class="c1">// Show privacy button</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>      <span class="k">case</span> <span class="nx">UI_LAYER.NONE</span>:
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>      <span class="kt">default</span><span class="o">:</span>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>        <span class="c1">// Show nothing</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    <span class="p">}</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>  <span class="p">}</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="p">});</span>
</code></pre></div>
<p>The constructor also supports an optional <a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/interfaces/options.html">Options</a> parameter.</p>
<h2 id="accept-deny-update-services-in-the-default-non-tcf-context">Accept / deny / update services in the default (non-TCF) context</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span><span class="p">,</span> <span class="p">{</span> <span class="nx">UserDecision</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">createTcfApiStub</span>: <span class="kt">true</span> <span class="p">});</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>  <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>  <span class="cm">/**</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="cm">   * ...</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="cm">   */</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>  <span class="kd">const</span> <span class="nx">onAcceptAllHandler</span> <span class="o">=</span> <span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">acceptAllServices</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>      <span class="c1">// Remember to fetch the now updated categories</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>      <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>    <span class="p">});</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>  <span class="p">};</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>  <span class="kd">const</span> <span class="nx">onDenyAllHandler</span> <span class="o">=</span> <span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">denyAllServices</span><span class="p">().</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>      <span class="c1">// Remember to fetch the now updated categories</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>      <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>    <span class="p">});</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>  <span class="p">};</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>  <span class="kd">const</span> <span class="nx">onSaveHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">userDecisions</span>: <span class="kt">UserDecision</span><span class="p">[])</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>    <span class="c1">// UserDecisions needs to include all the user choices for each service that were made in your UI</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">updateServices</span><span class="p">(</span><span class="nx">userDecisions</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>      <span class="c1">// Remember to fetch the now updated categories</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>      <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>    <span class="p">});</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>  <span class="p">};</span>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="p">});</span>
</code></pre></div>
<h2 id="tcf-initialization">TCF initialization</h2>
<p>First, make sure <strong>TCF is enabled in your settings</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span><span class="p">,</span> <span class="p">{</span> <span class="nx">UI_LAYER</span><span class="p">,</span> <span class="nx">UI_VARIANT</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">createTcfApiStub</span>: <span class="kt">true</span> <span class="p">});</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>  <span class="c1">// getSettings() returns all Usercentrics settings you need for your custom solution</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>  <span class="c1">// NOTE: If TCF is enabled, the ui property of the settings object will always be of type TCFUISettings, not DefaultUISettings.</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>  <span class="c1">// getTCFData() returns all TCF related data (vendors, purposes, special features etc.)</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>  <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>  <span class="k">if</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">variant</span> <span class="o">===</span> <span class="nx">UI_VARIANT</span><span class="p">.</span><span class="nx">TCF</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>    <span class="k">switch</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">initialLayer</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>      <span class="k">case</span> <span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">FIRST_LAYER</span><span class="o">:</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>        <span class="c1">// NOTE: Remember to call setTCFUIAsOpen()!</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        <span class="nx">UC</span><span class="p">.</span><span class="nx">setTCFUIAsOpen</span><span class="p">();</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>        <span class="c1">// Show TCF first layer</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>      <span class="k">case</span> <span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">PRIVACY_BUTTON</span><span class="o">:</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>        <span class="c1">// Show privacy button</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>      <span class="k">case</span> <span class="nx">UI_LAYER.NONE</span>:
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>      <span class="kt">default</span><span class="o">:</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>        <span class="c1">// Show nothing</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a>    <span class="p">}</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>  <span class="p">}</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="p">});</span>
</code></pre></div>
<p>The constructor also supports an optional <a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/interfaces/options.html">Options</a> parameter.</p>
<p>For TCF, the <code>createTcfApiStub</code> option needs to be set to true in order for the __tcfapi queue to initialize right away (we cannot wait for the settings request to finish).</p>
<h2 id="accept-deny-update-vendors-purposes-special-features-in-the-tcf-context">Accept / deny / update vendors, purposes, special features in the TCF context</h2>
<p>Note that both features and special purposes are for disclosing only and do not require any user decision. They cannot be updated.</p>
<p>Note that if TCF is enabled, the default (non-TCF) data is still available (e.g. getCategories()). A hybrid UI can be built if both
sets of methods (TCF and default (non-TCF)) are called.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span><span class="p">,</span> <span class="p">{</span> <span class="nx">TCF_DECISION_UI_LAYER</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">createTcfApiStub</span>: <span class="kt">true</span> <span class="p">});</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>  <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>  <span class="cm">/**</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="cm">   * ...</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="cm">   */</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>  <span class="c1">// The fromLayer parameter needs to identify the layer from which the acceptAll button was triggered.</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>  <span class="kd">const</span> <span class="nx">onAcceptAllHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">fromLayer</span>: <span class="kt">TCF_DECISION_UI_LAYER</span><span class="p">)</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">acceptAllForTCF</span><span class="p">(</span><span class="nx">fromLayer</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>      <span class="c1">// Remember to fetch the new (updated) tcfData</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>      <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>    <span class="p">});</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>  <span class="p">};</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>  <span class="c1">// The fromLayer parameter needs to identify the layer from which the denyAll button was triggered.</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>  <span class="kd">const</span> <span class="nx">onDenyAllHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">fromLayer</span>: <span class="kt">TCF_DECISION_UI_LAYER</span><span class="p">)</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">denyAllForTCF</span><span class="p">(</span><span class="nx">fromLayer</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>      <span class="c1">// Remember to fetch the new (updated) tcfData</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>      <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>    <span class="p">});</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>  <span class="p">};</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>  <span class="c1">// The fromLayer parameter needs to identify the layer from which the save button was triggered.</span>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>  <span class="kd">const</span> <span class="nx">onSaveHandler</span> <span class="o">=</span> <span class="p">(</span><span class="nx">tcfUserDecisions</span>: <span class="kt">TCFUserDecisions</span><span class="p">,</span> <span class="nx">fromLayer</span>: <span class="kt">TCF_DECISION_UI_LAYER</span><span class="p">)</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>    <span class="c1">// TCFUserDecisions needs to include all the user choices for each vendor, purpose, special feature that were made in your UI</span>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">updateChoicesForTCF</span><span class="p">(</span><span class="nx">tcfUserDecisions</span><span class="p">,</span> <span class="nx">fromLayer</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>      <span class="c1">// Remember to fetch the new (updated) tcfData</span>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>      <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>    <span class="p">});</span>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>  <span class="p">};</span>
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>  <span class="c1">// Special handler for closing the TCF UI without any user changes (e.g. for any close button / click-away handler)</span>
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>  <span class="kd">const</span> <span class="nx">onTCFUICloseHandler</span> <span class="o">=</span> <span class="p">()</span><span class="o">:</span> <span class="ow">void</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>    <span class="nx">UC</span><span class="p">.</span><span class="nx">setTCFUIAsClosed</span><span class="p">();</span>
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>  <span class="p">};</span>
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="p">});</span>
</code></pre></div>
<h2 id="changing-the-language">Changing the language</h2>
<p>After UC is initialized you can change the language by calling:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">changeLanguage</span><span class="p">(</span><span class="s1">&#39;NEW_LANGUAGE&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>  <span class="c1">// Remember to fetch new (translated) settings</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>  <span class="c1">// If you use the default (non-TCF) setup, make sure to fetch new (translated) categories / settings</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>  <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>  <span class="c1">// If you use the TCF setup, make sure to fetch new (translated) tcfData</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>  <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="p">});</span>
</code></pre></div>
<h2 id="changing-the-view">Changing the view</h2>
<p>After UC is initialized you have to update the SDK after every view change:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">const</span> <span class="kd">enum</span> <span class="nx">UI_LAYER</span> <span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>  <span class="nx">FIRST_LAYER</span><span class="p">,</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>  <span class="nx">NONE</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>  <span class="nx">PRIVACY_BUTTON</span><span class="p">,</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>  <span class="nx">SECOND_LAYER</span><span class="p">,</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">}</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">updateLayer</span><span class="p">(</span><span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">FIRST_LAYER</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>  <span class="c1">// Remember to fetch new (translated) settings</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>  <span class="c1">// If you use the default (non-TCF) setup, make sure to fetch new (translated) categories / settings</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>  <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>  <span class="c1">// If you use the TCF setup, make sure to fetch new (translated) tcfData</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>  <span class="kd">const</span> <span class="nx">tcfData</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getTCFData</span><span class="p">();</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="p">});</span>
</code></pre></div>
<h2 id="getting-services-information">Getting Services Information</h2>
<p>After UC is initialized you can retrieve the services information, by using one of the following methods: <code>getServicesBaseInfo</code> or <code>getServicesFullInfo</code>. The method <code>getServices</code> was deprecated in the version 2.2.0-beta.3 and it will be deleted in version 3.0, so we advise you to update to these new methods, based in your needs:</p>
<ul>
<li><code>getServicesBaseInfo</code> retrieve all services with their base information, without fetching the aggregator.</li>
<li>Returns <a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/interfaces/baseservice.html">BaseService</a>[]</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>            <span class="c1">// getServicesBaseInfo() returns all the services with their base information</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>            <span class="kd">const</span> <span class="nx">servicesBase</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getServicesBaseInfo</span><span class="p">();</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;BASE INFO&quot;</span><span class="p">,</span> <span class="nx">servicesBase</span><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="p">...</span> <span class="p">});</span>
</code></pre></div>
<ul>
<li><code>getServicesFullInfo</code> retrieves all services with their complete information, fetching the aggregator if necessary.</li>
<li>Returns Promise&lt;<a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/modules.html#service">Service</a>[]&gt;</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>            <span class="c1">// getServicesFullInfo() returns all services with their complete information</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>            <span class="kd">const</span> <span class="nx">servicesFull</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getServicesFullInfo</span><span class="p">()</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>            <span class="nx">servicesFull</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">info</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;FULL INFO&quot;</span><span class="p">,</span> <span class="nx">info</span><span class="p">)</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>            <span class="p">});</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="p">...</span> <span class="p">});</span>
</code></pre></div>
<h2 id="getting-categories-information">Getting Categories Information</h2>
<p>After UC is initialized you can retrieve the categories information, by using one of the following methods: <code>getCategoriesBaseInfo</code> or <code>getCategoriesFullInfo</code>. The method <code>getCategories</code> was deprecated in the version 2.2.0-beta.3 and it will be deleted in version 3.0, so we advise you to update to these new methods, based in your needs:</p>
<ul>
<li><code>getCategoriesBaseInfo</code> retrieves the categories and their base services info to display this information in your UI.</li>
<li>Returns <a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/interfaces/basecategory.html">BaseCategory</a>[]</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>            <span class="c1">// getCategoriesBaseInfo() returns the categories and their base services info to display this information in your UI.</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>            <span class="kd">const</span> <span class="nx">categoriesBase</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategoriesBaseInfo</span><span class="p">();</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;BASE CATEGORIES INFO&quot;</span><span class="p">,</span> <span class="nx">categoriesBase</span><span class="p">)</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">...</span> <span class="p">});</span>
</code></pre></div>
<ul>
<li><code>getCategoriesFullInfo</code> retrieves the categories and their full services info to display this information in your UI.</li>
<li>Returns Promise&lt;<a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/interfaces/category.html">Category</a>[]&gt;</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>            <span class="c1">// getCategoriesFullInfo() returns the categories and their full services info to display this information in your UI.</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>           <span class="kd">const</span> <span class="nx">categoriesFull</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategoriesFullInfo</span><span class="p">();</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>           <span class="nx">categoriesFull</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">info</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;FULL INFO&quot;</span><span class="p">,</span> <span class="nx">info</span><span class="p">)</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>            <span class="p">});</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="p">...</span> <span class="p">});</span>
</code></pre></div>
<h2 id="cross-device-consent-sharing">Cross-Device Consent Sharing</h2>
<p><strong>NOTE</strong>: If the given <code>controllerId</code> returns no history from the Usercentrics backend, that <code>controllerId</code> will not be updated for the end user.</p>
<h3 id="controllerid-is-known-before-init">controllerId is known before init</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">controllerId</span><span class="o">:</span> <span class="s1">&#39;CONTROLLER_ID_FOR_END_USER&#39;</span> <span class="p">});</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialView</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>  <span class="cm">/**</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="cm">   * ...</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="cm">   */</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="p">});</span>
</code></pre></div>
<h3 id="controllerid-is-known-after-init">controllerId is known after init</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="k">import</span> <span class="nx">Usercentrics</span> <span class="kr">from</span> <span class="s1">&#39;@usercentrics/cmp-browser-sdk&#39;</span><span class="p">;</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">Usercentrics</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">);</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialView</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>  <span class="cm">/**</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="cm">   * ...</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="cm">   */</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>  <span class="nx">UC</span><span class="p">.</span><span class="nx">restoreUserSession</span><span class="p">(</span><span class="s1">&#39;CONTROLLER_ID_FOR_END_USER&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>    <span class="cm">/**</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="cm">     * ...</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="cm">     */</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>  <span class="p">});</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="p">});</span>
</code></pre></div>
<h2 id="ie11-compatibility">IE11 compatibility</h2>
<p>If your Consent Solution should work with IE11 (or other legacy browsers), then there's a few extra steps you need to do:</p>
<ul>
<li>Include a <code>CustomEvent</code> polyfill</li>
<li>https://www.npmjs.com/package/custom-event-polyfill</li>
<li>Include a <code>fetch</code> polyfill</li>
<li>https://www.npmjs.com/package/whatwg-fetch</li>
</ul>
<p>Also you'll have to have <code>Babel (with core-js)</code> (or similar) in your build setup to make sure, that <code>Symbol</code> etc. get polyfilled.</p>
<h2 id="script-tag-support">Script tag support</h2>
<p>You can also use the SDK as a <code>script</code> tag on your site:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://app.usercentrics.eu/browser-sdk/2.13.3/bundle.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>
<p>You can now access all methods/constants by using them from within the <code>UC_SDK</code> namespace:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">const</span> <span class="nx">UC</span> <span class="o">=</span> <span class="ow">new</span> <span class="nx">UC_SDK</span><span class="p">.</span><span class="k">default</span><span class="p">(</span><span class="s1">&#39;YOUR_USERCENTRICS_SETTINGS_ID&#39;</span><span class="p">);</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nx">UC</span><span class="p">.</span><span class="nx">init</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">initialUIValues</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>  <span class="c1">// getCategories() returns all categories&#39; and data processing services&#39; information</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>  <span class="kd">const</span> <span class="nx">categories</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getCategories</span><span class="p">();</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>  <span class="c1">// getSettings() returns all Usercentrics settings you need for your custom solution</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>  <span class="kd">const</span> <span class="nx">settings</span> <span class="o">=</span> <span class="nx">UC</span><span class="p">.</span><span class="nx">getSettings</span><span class="p">();</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>  <span class="k">if</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">variant</span> <span class="o">===</span> <span class="nx">UC_SDK</span><span class="p">.</span><span class="nx">UI_VARIANT</span><span class="p">.</span><span class="nx">DEFAULT</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>    <span class="k">switch</span> <span class="p">(</span><span class="nx">initialUIValues</span><span class="p">.</span><span class="nx">initialLayer</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>      <span class="k">case</span> <span class="nx">UC_SDK</span><span class="p">.</span><span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">FIRST_LAYER</span><span class="o">:</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a>        <span class="c1">// Show first layer (i.e. privacy banner)</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>      <span class="k">case</span> <span class="nx">UC_SDK</span><span class="p">.</span><span class="nx">UI_LAYER</span><span class="p">.</span><span class="nx">PRIVACY_BUTTON</span><span class="o">:</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>        <span class="c1">// Show privacy button</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>      <span class="k">case</span> <span class="nx">UC_SDK.UI_LAYER.NONE</span>:
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>      <span class="kt">default</span><span class="o">:</span>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>        <span class="c1">// Show nothing</span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>        <span class="k">return</span><span class="p">;</span>
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>    <span class="p">}</span>
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>  <span class="p">}</span>
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="p">});</span>
</code></pre></div>
<p><strong>NOTE</strong>: If you need Internet Explorer 11 support, you can point the <code>src</code> attribute to <code>https://app.usercentrics.eu/browser-sdk/2.6.1/bundle_legacy.js</code>.</p>
<h2 id="considerations-for-building-your-custom-tcf-v20-ui">Considerations for building your custom TCF v2.0 UI</h2>
<p><strong>Note</strong>: This does NOT apply if you use the unaltered Usercentrics UI together with this SDK</p>
<p>If you plan to build your own custom UI for TCF v2.0, Usercentrics cannot be liable that your custom UI conforms to all the IAB rules and guidelines. In this case, you can still use this SDK, but you need to register your solution at the IAB yourself. You can then enter your cmp-id (provided by the IAB) and cmp-version through the Usercentrics Admin Interface. In the case that you build your own TCF v2.0 UI it is NOT allowed to use the default Usercentrics cmp-id and cmp-version.</p>
<h2 id="technical-documentation">Technical Documentation</h2>
<p>Technical Documentation can be found on our <a href="https://docs.usercentrics.com/cmp_browser_sdk/2.13.3/index.html">documentation website</a>.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
       Copyright 2022 Usercentrics GmbH
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "navigation.tabs", "navigation.tabs.sticky", "search.suggest", "navigation.sections", "navigation.indexes"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1514a9a0.min.js"></script>
      
        <script src="../../../javascripts/extra.js"></script>
      
    
  </body>
</html>